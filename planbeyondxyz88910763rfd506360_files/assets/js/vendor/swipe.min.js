"use strict";function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}!function(t,e){t=t||{},"function"==typeof define&&define.amd?define([],function(){return t.Swipe=e(),t.Swipe}):"object"===("undefined"==typeof module?"undefined":_typeof(module))&&module.exports?module.exports=e():t.Swipe=e()}(window,function(){var e,B="object"==("undefined"==typeof self?"undefined":_typeof(self))&&self.self===self&&self||"object"==("undefined"==typeof global?"undefined":_typeof(global))&&global.global===global&&global||this,V=B.document;function n(s,c){function n(t){return!!t&&("boolean"!=typeof t.cancelable||t.cancelable)}var i,t,l,d,v,f,r,p,m,h,e,o,a,u,y,E,b,g={},w={},L=0,T=(c=c||{}).auto||0,S=!1,C=function(){},x=(Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(t){for(var e=(this.document||this.ownerDocument).querySelectorAll(t),n=e.length;0<=--n&&e.item(n)!==this;);return-1<n}),{addEventListener:!!B.addEventListener,passiveEvents:function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});B.addEventListener("testEvent",null,t),B.removeEventListener("testEvent",null,t)}catch(t){e=!1}return e}(),touch:"ontouchstart"in B||B.DocumentTouch&&V instanceof DocumentTouch,transitions:function(t){var e,n=["transitionProperty","WebkitTransition","MozTransition","OTransition","msTransition"];for(e in n)if(void 0!==t.style[n[e]])return!0;return!1}(V.createElement("swipe"))});if(s)return l=s.children[0],p=parseInt(c.startSlide,10)||0,m=c.speed||300,c.continuous=void 0===c.continuous||c.continuous,e="direction",s.currentStyle?o=s.currentStyle[e]:B.getComputedStyle&&(o=B.getComputedStyle(s,null).getPropertyValue(e)),h="rtl"===o?"right":"left",c.autoRestart=void 0!==c.autoRestart&&c.autoRestart,u=M,y=y||100,E=null,_.cancel=D,a=_,b={handleEvent:function(t){if(!S||"resize"===t.type){switch(t.type){case"mousedown":case"touchstart":this.start(t);break;case"mousemove":case"touchmove":this.move(t);break;case"mouseup":case"mouseleave":case"touchend":this.end(t);break;case"webkitTransitionEnd":case"msTransitionEnd":case"oTransitionEnd":case"otransitionend":case"transitionend":this.transitionEnd(t);break;case"resize":a()}c.stopPropagation&&t.stopPropagation()}},start:function(t){var e=R(t)?t:t.touches[0];c.ignore&&e.target.matches(c.ignore)||(R(t)&&t.preventDefault(),g={x:e.pageX,y:e.pageY,time:+new Date},i=void 0,w={},R(t)?(s.addEventListener("mousemove",this,!1),s.addEventListener("mouseup",this,!1),s.addEventListener("mouseleave",this,!1)):(s.addEventListener("touchmove",this,!!x.passiveEvents&&{passive:!1}),s.addEventListener("touchend",this,!1)),e=z(),t=d[p],c.dragStart&&c.dragStart(e,t))},move:function(t){var e;if(window.spIsSwiping=!0,R(t))e=t;else{if(1<t.touches.length||t.scale&&1!==t.scale)return;c.disableScroll&&n(t)&&t.preventDefault(),e=t.touches[0]}w={x:e.pageX-g.x,y:e.pageY-g.y},(i=void 0===i?!!(i||Math.abs(w.x)<Math.abs(w.y)):i)?document.body.classList.contains("sp-vertical-swipe")||document.body.classList.add("sp-vertical-swipe"):(n(t)&&t.preventDefault(),j(),c.continuous?P(p,w.x,0):P(null,w.x,0))},end:function(t){setTimeout(function(){window.spIsSwiping=!1},100),document.body.classList.contains("sp-vertical-swipe")&&document.body.classList.remove("sp-vertical-swipe");var e=+new Date-g.time,e=Number(e)<250&&20<Math.abs(w.x)||Math.abs(w.x)>f/2,n=!p&&0<w.x||p===d.length-1&&w.x<0,o=(c.continuous&&(n=!1),Math.abs(w.x)/w.x);i||(e&&!n?(p=o<0?(c.continuous&&(I(k(p-1),-f,0),I(k(p+2),f,0)),I(k(p+1),f,m),k(p+1)):(c.continuous&&(I(k(p+1),f,0),I(k(p-2),-f,0)),I(p-1,f,m),k(p-1)),Y(z(),d[p],o)):c.continuous?(I(k(p-1),-f,m),I(p,0,m),I(k(p+1),f,m)):I(p,f,m)),R(t)?(s.removeEventListener("mousemove",b,!1),s.removeEventListener("mouseup",b,!1),s.removeEventListener("mouseleave",b,!1)):(s.removeEventListener("touchmove",b,!!x.passiveEvents&&{passive:!1}),s.removeEventListener("touchend",b,!1)),e=z(),n=d[p],c.dragEnd&&c.dragEnd(e,n)},transitionEnd:function(t){parseInt(t.target.getAttribute("data-index"),10)===p&&((T||c.autoRestart)&&O(),Z(z(),d[p]))}},M(),q(),{setup:M,slide:function(t,e){j(),A(t,e)},prev:function(){j(),S||(c.continuous||p)&&A(p-1)},next:function(){j(),Q()},restart:O,stop:j,getPos:z,disable:function(){j(),S=!0},enable:function(){S=!1,O()},getNumSlides:function(){return r},kill:function(){j(),s.style.visibility="",l.style.width="",l.style[h]="";var t=d.length;for(;t--;){x.transitions&&P(t,0,0);var e=d[t];e.getAttribute("data-cloned")&&e.parentElement.removeChild(e),e.style.width="",e.style[h]="",e.style.webkitTransitionDuration=e.style.MozTransitionDuration=e.style.msTransitionDuration=e.style.OTransitionDuration=e.style.transitionDuration="",e.style.webkitTransform=e.style.msTransform=e.style.MozTransform=e.style.OTransform=""}N(),a.cancel()},index:p,curPostion:L};function D(){E&&clearTimeout(E)}function _(){var t=this,e=arguments;D(),E=setTimeout(function(){E=null,u.apply(t,e)},y)}function N(){x.addEventListener?(s.removeEventListener("touchstart",b,!!x.passiveEvents&&{passive:!0}),s.removeEventListener("mousedown",b,!1),s.removeEventListener("webkitTransitionEnd",b,!1),s.removeEventListener("msTransitionEnd",b,!1),s.removeEventListener("oTransitionEnd",b,!1),s.removeEventListener("otransitionend",b,!1),s.removeEventListener("transitionend",b,!1),B.removeEventListener("resize",b,!1)):B.onresize=null}function X(t){t=t.cloneNode(!0);l.appendChild(t),t.setAttribute("data-cloned",!0),t.removeAttribute("id")}function M(t){if(null!=t)for(var e in t)c[e]=t[e];c.spacing?c.spacing=parseInt(c.spacing)||0:c.spacing=0,d=l.children,r=d.length;for(var n=0;n<d.length;n++)d[n].getAttribute("data-cloned")&&r--;if(d.length<2&&(c.continuous=!1),x.transitions&&c.continuous&&d.length<3&&(X(d[0]),X(d[1]),d=l.children),"right"===h)for(var o=0;o<d.length;o++)d[o].style.float="right";v=new Array(d.length),f=d[0].getBoundingClientRect().width;for(var i=d.length;i--;)d[i].setAttribute("data-index",i);f+=c.spacing,c.continuous&&x.transitions&&(I(k(p-1),-f,0),I(k(p+1),f,0)),x.transitions||(l.style[h]=p*-f+"px"),s.style.visibility="visible",N(),x.addEventListener?(x.touch&&s.addEventListener("touchstart",b,!!x.passiveEvents&&{passive:!0}),c.draggable&&s.addEventListener("mousedown",b,!1),x.transitions&&(s.addEventListener("webkitTransitionEnd",b,!1),s.addEventListener("msTransitionEnd",b,!1),s.addEventListener("oTransitionEnd",b,!1),s.addEventListener("otransitionend",b,!1),s.addEventListener("transitionend",b,!1)),B.addEventListener("resize",b,!1)):B.onresize=a,document.body.classList.add("sp-swipe-initialized")}function Q(){S||(c.continuous||p<d.length-1)&&A(p+1)}function Y(t,e,n){c.callback&&c.callback(t,e,n)}function Z(t,e){c.transitionEnd&&c.transitionEnd(t,e)}function k(t){return(d.length+t%d.length)%d.length}function z(){var t=p;return r<=t&&(t-=r),t}function A(t,e){var n,o,i,s,r,a,u;t="number"!=typeof t?parseInt(t,10):t,p!==t&&(x.transitions?(o=Math.abs(p-t)/(p-t),c.continuous&&(n=o,(o=-v[k(t)]/f)!==n)&&(t=-o*d.length+t),Math.abs(p-t),I(t=k(t),f,e||m)):(t=k(t),i=p*-f,s=t*-f,(r=e||m)?(a=+new Date,u=setInterval(function(){var t=+new Date-a;r<t?(l.style[h]=s+"px",(T||c.autoRestart)&&O(),Z(z(),d[p]),clearInterval(u)):l.style[h]=(s-i)*(Math.floor(t/r*100)/100)+i+"px"},4)):l.style[h]=s+"px"),p=t,setTimeout(function(){Y(z(),d[p],o)}||C,0))}function I(t,e,n){P(t,e,n),v[t]=e}function P(t,e,n){var o=l&&l.style,i=e;t||0===t?L=-(i=-t*e):i=-L+e,o&&(o.webkitTransitionDuration=o.MozTransitionDuration=o.msTransitionDuration=o.OTransitionDuration=o.transitionDuration=n+"ms",o.webkitTransform=o.msTransform=o.MozTransform=o.OTransform=o.transform="translateX("+i+"px)")}function q(){(T=c.auto||0)&&(t=setTimeout(Q,T))}function j(){T=0,clearTimeout(t)}function O(){j(),q()}function R(t){return/^mouse/.test(t.type)}}return(B.jQuery||B.Zepto)&&((e=B.jQuery||B.Zepto).fn.Swipe=function(t){return this.each(function(){e(this).data("Swipe",new n(e(this)[0],t))})}),n});